<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>íƒ€ë¡œ ë¯¸ë‹ˆê²Œì„</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: linear-gradient(to right, #2c3e50, #4ca1af);
      color: #fff;
      text-align: center;
      padding: 2rem;
      overflow-x: hidden;
    }
    h1 {
      font-size: 2rem;
      margin-bottom: 1rem;
    }
    #card-container {
      display: grid;
      grid-template-columns: repeat(5, 80px);
      justify-content: center;
      gap: 0.5rem;
      margin: 2rem auto;
      max-width: 440px;
    }
    .card {
      width: 80px;
      height: 120px;
      background-color: #333;
      color: transparent;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      font-weight: bold;
      box-shadow: 0 0 5px rgba(0,0,0,0.3);
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.3s ease;
      position: relative;
    }
    .card.revealed {
      background-color: #f1c40f;
      color: black;
    }
    .reading {
      margin-top: 2rem;
      text-align: center;
    }
    .reset-button {
      margin-top: 1.5rem;
      background-color: #fee500;
      color: #3c1e1e;
      padding: 0.8rem 1.5rem;
      border: none;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      margin-right: 0.5rem;
    }
    #overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(4px);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }
    #popup {
      background: rgba(255, 255, 255, 0.95);
      color: black;
      padding: 2rem;
      border-radius: 12px;
      max-width: 90vw;
      width: 400px;
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
    }
    .popup-card {
      margin: 1rem 0;
      font-weight: bold;
    }
    #result-images {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 1rem;
    }
    .result-card {
      width: 100px;
      height: 150px;
      background-color: white;
      color: black;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 2px solid #444;
      border-radius: 10px;
      font-weight: bold;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>ğŸ”® 3ì¥ íƒ€ë¡œì¹´ë“œ ë¯¸ë‹ˆê²Œì„ ğŸ”®</h1>
  <div id="card-container"></div>
  <button class="reset-button" onclick="resetGame()">ë‹¤ì‹œ ë½‘ê¸°</button>

  <div id="overlay" style="display: none">
    <div id="popup">
      <h2>ğŸ”® ë‹¹ì‹ ì˜ íƒ€ë¡œ ê²°ê³¼</h2>
      <div id="popup-content"></div>
      <div id="result-images"></div>
      <button class="reset-button" onclick="closePopup()">ë‹«ê¸°</button>
    </div>
  </div>

  <script>
    const tarotDeck = [
      "The Fool", "The Magician", "The High Priestess", "The Empress",
      "The Emperor", "The Hierophant", "The Lovers", "The Chariot",
      "Strength", "The Hermit", "Wheel of Fortune", "Justice",
      "The Hanged Man", "Death", "Temperance", "The Devil",
      "The Tower", "The Star", "The Moon", "The Sun",
      "Judgement", "The World"
    ];

    const interpretations = {
      "The Fool": "ìƒˆë¡œìš´ ì‹œì‘ê³¼ ê°€ëŠ¥ì„±ì„ ì˜ë¯¸í•´. ëª¨í—˜ì‹¬ì´ ì¤‘ìš”í•œ ì‹œê¸°ì•¼!",
      "The Magician": "ëŠ¥ë ¥ê³¼ ì‹¤í–‰ë ¥ì´ ìƒìŠ¹ ì¤‘ì´ì•¼. ë„¤ê°€ ìƒê°í•œ ê±¸ í˜„ì‹¤ë¡œ ë§Œë“¤ ìˆ˜ ìˆì–´!",
      "The High Priestess": "ì§ê´€ê³¼ ë¹„ë°€, ê°ì¶”ì–´ì§„ ì§„ì‹¤ì´ ë‚˜íƒ€ë‚˜ê³  ìˆì–´.",
      "The Empress": "í’ìš”ì™€ ì„±ì¥ì˜ ì‹œê¸°ì•¼. ê°ì •ê³¼ ì‚¬ë‘ë„ í”¼ì–´ë‚˜ê³  ìˆì–´!",
      "The Emperor": "ì•ˆì •ê³¼ êµ¬ì¡°, ë¦¬ë”ì‹­ì´ ì¤‘ìš”í•´. ê²°ë‹¨ë ¥ ìˆëŠ” íƒœë„ê°€ í•„ìš”í•´.",
      "The Hierophant": "ì „í†µê³¼ ì§€í˜œ, ì‚¬íšŒì  ê·œë²”ì„ ë”°ë¥´ëŠ” ê²ƒì´ ìœ ë¦¬í•´!",
      "The Lovers": "ì‚¬ë‘ê³¼ ê´€ê³„ì˜ ê¸°ë¡œì— ì„œìˆì–´. ì„ íƒì´ ì¤‘ìš”í•´ì§€ëŠ” ì‹œì ì´ì•¼!",
      "The Chariot": "ê²°ë‹¨ê³¼ ì¶”ì§„ë ¥ìœ¼ë¡œ ìŠ¹ë¦¬í•  ìˆ˜ ìˆì–´. ë©ˆì¶”ì§€ ë§ê³  ë‹¬ë ¤!",
      "Strength": "ë‚´ë©´ì˜ í˜ê³¼ ì¸ë‚´ê°€ ì‹œí—˜ë°›ëŠ” ì‹œê¸°ì•¼. ë¯¿ìŒì„ ê°€ì ¸ë´!",
      "The Hermit": "í˜¼ìì˜ ì‹œê°„ê³¼ ë‚´ë©´ ì„±ì°°ì´ í•„ìš”í•´. ì²œì²œíˆ ê°€ë„ ê´œì°®ì•„.",
      "Wheel of Fortune": "ìš´ëª…ì˜ ìˆ˜ë ˆë°”í€´ê°€ ëŒì•„ê°€ê³  ìˆì–´! í–‰ìš´ì´ ì˜¤ê³  ìˆì–´!",
      "Justice": "ê· í˜•ê³¼ ì •ì˜ê°€ í•„ìš”í•´. ê³µì •í•œ íŒë‹¨ì„ ë‚´ë ¤ì•¼ í•´.",
      "The Hanged Man": "í¬ìƒê³¼ ìƒˆë¡œìš´ ê´€ì ì´ í•„ìš”í•œ ì‹œê¸°ì•¼. ë©ˆì¶¤ë„ ì˜ë¯¸ ìˆì–´.",
      "Death": "ë¬´ì–¸ê°€ ëë‚˜ê³  ìƒˆë¡œìš´ ê²Œ ì‹œì‘ë¼. ì¬íƒ„ìƒì˜ ì˜ë¯¸ì•¼.",
      "Temperance": "ì¡°í™”ì™€ ì ˆì œê°€ ì¤‘ìš”í•œ ì‹œê¸°ì•¼. ê· í˜•ì„ ì¡ì•„ë³´ì!",
      "The Devil": "ìš•ë§ê³¼ ì§‘ì°©, ì¤‘ë…ì„ ì¡°ì‹¬í•´ì•¼ í•´. ììœ ë¡œì›Œì§€ì!",
      "The Tower": "ì˜ˆìƒì¹˜ ëª»í•œ ë³€í™”ê°€ ì˜¬ ìˆ˜ ìˆì–´. í•˜ì§€ë§Œ ê·¸ê²ƒë„ ì„±ì¥ì˜ ì¼ë¶€ì•¼!",
      "The Star": "í¬ë§ê³¼ ì¹˜ìœ ì˜ ì—ë„ˆì§€ê°€ íë¥´ê³  ìˆì–´. ì†Œì›ì„ ë¹Œì–´ë´!",
      "The Moon": "í˜¼ë€ê³¼ ë¶ˆí™•ì‹¤ì„±ì´ ìˆì–´. ê°ì •ì— íœ˜ë‘˜ë¦¬ì§€ ì•Šë„ë¡ ì¡°ì‹¬í•´.",
      "The Sun": "í–‰ë³µê³¼ ì„±ê³µì´ ì°¾ì•„ì™€! ë°ê³  ê¸ì •ì ì¸ ì—ë„ˆì•¼!",
      "Judgement": "ê³¼ê±°ë¥¼ ëŒì•„ë³´ê³  ê²°ë‹¨ì„ ë‚´ë ¤ì•¼ í•´. ìƒˆë¡œìš´ ì‹œì‘ì„ ìœ„í•œ ë§ˆë¬´ë¦¬ì•¼.",
      "The World": "ì™„ì„±ê³¼ í†µí•©ì˜ ì‹œê¸°ì•¼! ì›í•˜ëŠ” ê±¸ ì´ë£° ìˆ˜ ìˆì–´."
    };

    let selectedCards = [];

    function renderCards() {
      const container = document.getElementById("card-container");
      container.innerHTML = "";
      selectedCards = [];
      document.getElementById("overlay").style.display = "none";
      const shuffled = [...tarotDeck].sort(() => 0.5 - Math.random());
      shuffled.forEach(card => {
        const div = document.createElement("div");
        div.className = "card";
        div.onclick = () => selectCard(div, card);
        container.appendChild(div);
      });
    }

    function selectCard(div, cardName) {
      if (selectedCards.length >= 3 || div.classList.contains("revealed")) return;
      div.classList.add("revealed");
      div.textContent = cardName;
      selectedCards.push(cardName);
      if (selectedCards.length === 3) {
        showPopup();
      }
    }

    function showPopup() {
      const positions = ["ê³¼ê±°", "í˜„ì¬", "ë¯¸ë˜"];
      const contentDiv = document.getElementById("popup-content");
      const resultDiv = document.getElementById("result-images");
      contentDiv.innerHTML = "";
      resultDiv.innerHTML = "";
      selectedCards.forEach((card, index) => {
        const meaning = interpretations[card];
        contentDiv.innerHTML += `<p class='popup-card'><strong>${positions[index]}</strong> (${card}): ${meaning}</p>`;

        const resultCard = document.createElement("div");
        resultCard.className = "result-card";
        resultCard.textContent = card;
        resultCard.onclick = () => saveCardAsImage(card);
        resultDiv.appendChild(resultCard);
      });
      document.getElementById("overlay").style.display = "flex";
    }

    function closePopup() {
      document.getElementById("overlay").style.display = "none";
    }

    function saveCardAsImage(cardName) {
      const canvas = document.createElement("canvas");
      canvas.width = 200;
      canvas.height = 300;
      const ctx = canvas.getContext("2d");
      ctx.fillStyle = "white";
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = "black";
      ctx.font = "20px Arial";
      ctx.textAlign = "center";
      ctx.fillText(cardName, canvas.width / 2, canvas.height / 2);
      const link = document.createElement("a");
      link.download = `${cardName}.png`;
      link.href = canvas.toDataURL();
      link.click();
    }

    function resetGame() {
      renderCards();
    }

    renderCards();
  </script>
</body>
</html>
