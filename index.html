<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>íƒ€ë¡œì¹´ë“œ ë¯¸ë‹ˆê²Œì„</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: linear-gradient(to bottom, #fff1f9, #ffe6f0);
      padding: 1rem;
      text-align: center;
    }
    h1 {
      color: #cc338b;
    }
    .card-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
      margin-top: 2rem;
    }
    .popup-entry-wrapper {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 1rem;
    }
    .popup-entry {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 120px;
    }
    .popup-card-text {
      font-size: 0.85rem;
      margin-top: 0.5rem;
      text-align: center;
      background: rgba(255,255,255,0.7);
      padding: 0.3rem 0.5rem;
      border-radius: 8px;
      color: #444;
    }
    .result-card {
      width: 100px;
      height: 150px;
      background-color: white;
      border: 2px solid #ff99cc;
      border-radius: 16px;
      box-shadow: 0 0 12px rgba(255, 153, 204, 0.4);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 0.95rem;
      cursor: pointer;
      flex-basis: calc(20% - 1rem);
    }
    .summary-text {
      margin-top: 2rem;
      background: rgba(255,255,255,0.8);
      border-radius: 12px;
      padding: 1rem;
      color: #333;
      font-weight: bold;
      font-size: 0.9rem;
      text-align: center;
    }
    #overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 999;
    }
    #popup {
      background: white;
      border-radius: 16px;
      padding: 2rem;
      width: 90%;
      max-width: 600px;
      box-shadow: 0 0 16px rgba(0,0,0,0.3);
    }
    button {
      margin-top: 2rem;
      padding: 0.8rem 1.2rem;
      background: #ff99cc;
      border: none;
      border-radius: 8px;
      color: white;
      font-weight: bold;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>ğŸ”® 3ì¥ íƒ€ë¡œì¹´ë“œ ë¯¸ë‹ˆê²Œì„ ğŸ”®</h1>
  <div id="card-container" class="card-container"></div>
  <button onclick="resetGame()">ë‹¤ì‹œ ë½‘ê¸°</button>

  <div id="overlay">
    <div id="popup">
      <h2>ğŸ”® ë‹¹ì‹ ì˜ íƒ€ë¡œ ê²°ê³¼</h2>
      <div id="popup-content"></div>
      <button onclick="closePopup()">ë‹«ê¸°</button>
    </div>
  </div>

  <script>
    const tarotDeck = [
      "The Fool", "The Magician", "The High Priestess", "The Empress", "The Emperor",
      "The Hierophant", "The Lovers", "The Chariot", "Strength", "The Hermit",
      "Wheel of Fortune", "Justice", "The Hanged Man", "Death", "Temperance",
      "The Devil", "The Tower", "The Star", "The Moon", "The Sun",
      "Judgement", "The World"
    ];

    const contextualInterpretations = {
  "The Fool_ê³¼ê±°": "ë‹¹ì‹ ì€ ê³¼ê±°ì— ì¶©ë™ì ìœ¼ë¡œ ìƒˆë¡œìš´ ì‹œì‘ì„ ê°í–‰í–ˆì„ ìˆ˜ ìˆì–´ìš”. ê·¸ ê²½í—˜ì€ ì§€ê¸ˆì˜ ì‹œì•¼ë¥¼ ë„“íˆëŠ” ë° ì¤‘ìš”í•œ ì—­í• ì„ í–ˆì–´ìš”.",
  "The Fool_í˜„ì¬": "ì§€ê¸ˆì€ ë‘ë ¤ì›€ë³´ë‹¨ ë„ì „ì´ í•„ìš”í•œ ì‹œê¸°ì˜ˆìš”. ì¤€ë¹„ê°€ ë˜ì–´ìˆì§€ ì•Šì•„ë„ ë°œì„ ë‚´ë”›ëŠ” ìš©ê¸°ê°€ í•„ìš”í•´ìš”.",
  "The Fool_ë¯¸ë˜": "ì¡°ë§Œê°„ ë‹¹ì‹ ì—ê²Œ ì˜ˆê¸°ì¹˜ ëª»í•œ ìƒˆë¡œìš´ ê¸°íšŒê°€ ë‹¤ê°€ì˜¬ ê±°ì˜ˆìš”. ì—´ë¦° ë§ˆìŒìœ¼ë¡œ ë§ì´í•  ì¤€ë¹„ë¥¼ í•´ë³´ì„¸ìš”.",
  "The Magician_ê³¼ê±°": "ë‹¹ì‹ ì€ ì˜ˆì „ë¶€í„° ì°½ì˜ì ì´ê³  ëŠ¥ë™ì ì¸ í˜ì„ ê°€ì§€ê³  ìˆì—ˆì–´ìš”. ê³¼ê±°ì˜ ì§‘ì¤‘ë ¥ê³¼ ì˜ì§€ëŠ” ë‹¹ì‹ ì„ ì„±ì¥ì‹œì¼°ì–´ìš”.",
  "The Magician_í˜„ì¬": "ì§€ê¸ˆì€ ë‹¹ì‹ ì´ ê°€ì§„ ëª¨ë“  ëŠ¥ë ¥ì„ í™œìš©í•  ìˆ˜ ìˆëŠ” ì‹œê¸°ì˜ˆìš”. ë§ì„¤ì´ì§€ ë§ê³  í–‰ë™í•˜ì„¸ìš”.",
  "The Magician_ë¯¸ë˜": "ì•ìœ¼ë¡œ ë‹¹ì‹ ì€ ì›í•˜ëŠ” ê²ƒì„ ì´ë£° ê¸°íšŒë¥¼ ë§ê²Œ ë  ê±°ì˜ˆìš”. ë‹¤ë§Œ, ì§„ì •í•œ ì˜ë„ë¥¼ ëª…í™•íˆ í•˜ì„¸ìš”.",
  "The High Priestess_ê³¼ê±°": "ë‹¹ì‹ ì€ ì˜ˆì „ë¶€í„° ì§ê´€ì´ ë›°ì–´ë‚¬ì–´ìš”. ë‹¹ì‹œì˜ ë‚´ë©´ì  ì„±ì°°ì´ ì§€ê¸ˆì˜ ì•ˆì •ìœ¼ë¡œ ì´ì–´ì¡Œì–´ìš”.",
  "The High Priestess_í˜„ì¬": "ê²‰ìœ¼ë¡œ ë³´ì´ëŠ” ê²ƒë³´ë‹¤ ë‚´ë©´ì˜ ëª©ì†Œë¦¬ì— ê·€ë¥¼ ê¸°ìš¸ì—¬ì•¼ í•´ìš”. ì¡°ìš©íˆ ê¹Šì´ ìˆëŠ” íŒë‹¨ì´ í•„ìš”í•œ ë•Œì˜ˆìš”.",
  "The High Priestess_ë¯¸ë˜": "ë‹¤ê°€ì˜¬ ì‹œê¸°ì—ëŠ” ë¶ˆí™•ì‹¤í•¨ ì†ì—ì„œë„ ì§ê°ì´ ì¤‘ìš”í•œ ì—­í• ì„ í•  ê±°ì˜ˆìš”. ê°ì •ì˜ íë¦„ì„ ë¬´ì‹œí•˜ì§€ ë§ˆì„¸ìš”.",
  "The Empress_ê³¼ê±°": "ê³¼ê±°ì— ëˆ„êµ°ê°€ì˜ ë³´ì‚´í•Œì„ ë°›ì•˜ê±°ë‚˜, í’ìš”ë¡œìš´ ì‹œê°„ì„ ë³´ëƒˆì„ ìˆ˜ ìˆì–´ìš”. ê·¸ ê²½í—˜ì´ ë‹¹ì‹ ì„ ë¶€ë“œëŸ½ê²Œ ë§Œë“¤ì—ˆì–´ìš”.",
  "The Empress_í˜„ì¬": "ì§€ê¸ˆì€ ì°½ì¡°ì„±ì´ë‚˜ ëŒë´„, ê°ì • í‘œí˜„ì´ ì¤‘ìš”í•œ ì‹œê¸°ì˜ˆìš”. íƒ€ì¸ê³¼ì˜ ê´€ê³„ì— ì¶©ì‹¤í•˜ì„¸ìš”.",
  "The Empress_ë¯¸ë˜": "ì•ìœ¼ë¡œ ì‚¬ë‘ê³¼ í’ìš”ê°€ ê¹ƒë“  ì‹œê°„ì´ ì°¾ì•„ì˜¬ ê±°ì˜ˆìš”. ë‹¹ì‹ ì˜ ë”°ëœ»í•¨ì´ ë¹›ì„ ë°œí•  ê¸°íšŒê°€ ìƒê²¨ìš”.",
  "The Emperor_ê³¼ê±°": "ê³¼ê±°ì— ê°•í•œ ì±…ì„ê°ì„ ê°€ì§€ê³  ì‚´ì•„ì™”ì–´ìš”. ê·¸ ì˜í–¥ìœ¼ë¡œ í˜„ì¬ì˜ ë‹¹ì‹ ì€ ë‹¨ë‹¨í•œ ê¸°ë°˜ ìœ„ì— ì„œ ìˆì–´ìš”.",
  "The Emperor_í˜„ì¬": "ì§€ê¸ˆì€ ê²°ë‹¨ë ¥ê³¼ ë¦¬ë”ì‹­ì´ í•„ìš”í•œ ì‹œê¸°ì˜ˆìš”. ê°ì •ë³´ë‹¤ëŠ” ë…¼ë¦¬ë¥¼ ì„ íƒí•´ì•¼ í•  ìˆœê°„ì¼ ìˆ˜ ìˆì–´ìš”.",
  "The Emperor_ë¯¸ë˜": "ì•ìœ¼ë¡œ ë‹¹ì‹ ì€ ì¡°ì§ì´ë‚˜ ê°€ì¡± ë‚´ì—ì„œ ì¤‘ì‹¬ì ì¸ ì—­í• ì„ ë§¡ê²Œ ë  ê±°ì˜ˆìš”. ë‹¤ë§Œ ê¶Œìœ„ì ì¸ íƒœë„ëŠ” ì£¼ì˜í•˜ì„¸ìš”.",
  "The Hierophant_ê³¼ê±°": "ì „í†µê³¼ ì§ˆì„œë¥¼ ì¤‘ì‹œí–ˆë˜ ê³¼ê±°ê°€ ìˆì–´ìš”. ë‹¹ì‹œì˜ ì•ˆì •ì´ ì§€ê¸ˆì˜ ë„ë•ì  ê¸°ì¤€ì„ ë§Œë“¤ì–´ì¤¬ì–´ìš”.",
  "The Hierophant_í˜„ì¬": "ì§€ê¸ˆì€ ëˆ„êµ°ê°€ì˜ ì¡°ì–¸ì´ë‚˜ ê¸°ì¡´ì˜ ê´€ìŠµì— ê·€ ê¸°ìš¸ì—¬ì•¼ í•  ì‹œê¸°ì˜ˆìš”. ê¸‰ë³€ë³´ë‹¨ ì•ˆì •ì´ ì¤‘ìš”í•´ìš”.",
  "The Hierophant_ë¯¸ë˜": "ë‹¹ì‹ ì€ ê°€ê¹Œìš´ ë¯¸ë˜ì— ëˆ„êµ°ê°€ì˜ ë©˜í†  ì—­í• ì„ í•˜ê²Œ ë˜ê±°ë‚˜, ìƒˆë¡œìš´ ê°€ë¥´ì¹¨ì„ ì–»ê²Œ ë  ê±°ì˜ˆìš”.",
  "The Lovers_ê³¼ê±°": "ì‚¬ë‘ì´ë‚˜ ì¤‘ìš”í•œ ê²°ì •ì„ í–ˆë˜ ì‹œê¸°ì˜€ì–´ìš”. ê·¸ ì„ íƒì´ ì§€ê¸ˆì˜ ê´€ê³„ë‚˜ ê°€ì¹˜ê´€ì— ê¹Šì´ ì˜í–¥ì„ ì¤¬ì–´ìš”.",
  "The Lovers_í˜„ì¬": "ì§€ê¸ˆì€ ì¤‘ìš”í•œ ì„ íƒì˜ ê¸°ë¡œì— ìˆì–´ìš”. ê°ì •ê³¼ ì±…ì„ ì‚¬ì´ì˜ ê· í˜•ì´ í•„ìš”í•œ ì‹œì ì´ì—ìš”.",
  "The Lovers_ë¯¸ë˜": "ì•ìœ¼ë¡œ ê´€ê³„ì—ì„œì˜ ê²°ë‹¨ì´ ë‹¤ê°€ì˜¬ ê±°ì˜ˆìš”. ê°ì •ë§Œì´ ì•„ë‹Œ ì‹ ì¤‘í•œ ì„ íƒì´ í•„ìš”í•´ìš”.",
  "The Chariot_ê³¼ê±°": "ë‹¹ì‹ ì€ ê³¼ê±°ì— í° ëª©í‘œë¥¼ í–¥í•´ ì „ì§„í–ˆì–´ìš”. ì„±ê³µì„ ìœ„í•´ ë…¸ë ¥í•œ ê¸°ì–µì´ ì§€ê¸ˆì˜ ì¶”ì§„ë ¥ì„ ë§Œë“¤ì—ˆì–´ìš”.",
  "The Chariot_í˜„ì¬": "ì§€ê¸ˆì€ ì§‘ì¤‘ë ¥ê³¼ ê²°ë‹¨ë ¥ì´ í•„ìš”í•œ ì‹œê¸°ì˜ˆìš”. ì•ë§Œ ë³´ê³  ë‹¬ë¦¬ëŠ” ìš©ê¸°ê°€ í•„ìš”í•´ìš”.",
  "The Chariot_ë¯¸ë˜": "ë‹¹ì‹ ì€ ê³§ ì¤‘ìš”í•œ ë„ì „ ì•ì— ì„¤ ê±°ì˜ˆìš”. í”ë“¤ë¦¬ì§€ ì•Šê³  ë‚˜ì•„ê°€ë©´ ì›í•˜ëŠ” ë°”ë¥¼ ì´ë£° ìˆ˜ ìˆì–´ìš”.",
  "Strength_ê³¼ê±°": "ì¸ë‚´ì‹¬ê³¼ ë‚´ë©´ì˜ ê°•ì¸í•¨ì„ ì‹œí—˜ë°›ì•˜ë˜ ê³¼ê±°ê°€ ìˆì–´ìš”. ê·¸ ì‹œê°„ì€ ë‹¹ì‹ ì„ ì„±ìˆ™í•˜ê²Œ ë§Œë“¤ì—ˆì–´ìš”.",
  "Strength_í˜„ì¬": "ì§€ê¸ˆì€ í˜ë³´ë‹¤ëŠ” ë¶€ë“œëŸ¬ì›€ìœ¼ë¡œ ë‹¤ê°€ê°€ì•¼ í•´ìš”. ì§„ì •í•œ ìš©ê¸°ëŠ” ì¹¨ì°©í•¨ì—ì„œ ë‚˜ì™€ìš”.",
  "Strength_ë¯¸ë˜": "ë‹¤ê°€ì˜¬ ì‹œê¸°ì— ê°ì •ì˜ ì»¨íŠ¸ë¡¤ì´ ì¤‘ìš”í•´ì§ˆ ê±°ì˜ˆìš”. ì°¨ë¶„í•œ ë‚´ë©´ì˜ í˜ì´ ë¹›ì„ ë°œí•  ê±°ì˜ˆìš”.",
  "The Hermit_ê³¼ê±°": "ê³¼ê±°ì— ê³ ë…ì´ë‚˜ ì„±ì°°ì˜ ì‹œê°„ì„ ê°€ì¡Œì–´ìš”. ê·¸ ì‹œê°„ì€ ë‹¹ì‹ ì—ê²Œ ê¹Šì€ ì§€í˜œë¥¼ ë‚¨ê²¼ì–´ìš”.",
  "The Hermit_í˜„ì¬": "ì§€ê¸ˆì€ ì™¸ë¶€ë³´ë‹¤ ë‚´ë©´ì— ì§‘ì¤‘í•´ì•¼ í•´ìš”. í˜¼ìë§Œì˜ ì‹œê°„ì´ í•„ìš”í•œ ìˆœê°„ì´ì—ìš”.",
  "The Hermit_ë¯¸ë˜": "ê³§ ë‚´ë©´ì˜ ê¸¸ì„ íƒêµ¬í•  ì¼ì´ ìƒê¸¸ ìˆ˜ ìˆì–´ìš”. ê¹Šì€ ì‚¬ìƒ‰ì´ ìƒˆë¡œìš´ ê¸¸ì„ ì—´ì–´ì¤„ ê±°ì˜ˆìš”.",
  "Wheel of Fortune_ê³¼ê±°": "ìš´ëª…ì ì¸ ì‚¬ê±´ì´ë‚˜ ì˜ˆìƒì¹˜ ëª»í•œ ë³€í™”ê°€ ìˆì—ˆë˜ ê³¼ê±°ì˜ˆìš”. ê·¸ê²ƒì´ ì§€ê¸ˆì„ ë§Œë“  ì›ë™ë ¥ì´ì—ìš”.",
  "Wheel of Fortune_í˜„ì¬": "ì§€ê¸ˆì€ ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ì‹œê¸°ì˜ˆìš”. íë¦„ì— ëª¸ì„ ë§¡ê¸°ë˜ ì¤‘ì‹¬ì„ ìƒì§€ ë§ˆì„¸ìš”.",
  "Wheel of Fortune_ë¯¸ë˜": "ë‹¹ì‹ ì˜ ìš´ëª…ì´ ê³§ ì „í™˜ì ì„ ë§ì„ ê±°ì˜ˆìš”. ê¸°íšŒê°€ ë‹¤ê°€ì˜¬ ìˆ˜ ìˆìœ¼ë‹ˆ ì¤€ë¹„í•˜ì„¸ìš”.",
  "Justice_ê³¼ê±°": "ê³¼ê±°ì— ë‹¹ì‹ ì€ ê³µì •í•¨ê³¼ ì±…ì„ì— ëŒ€í•´ ê³ ë¯¼í•˜ê±°ë‚˜ ì‹¤ì²œí•´ë³¸ ì ì´ ìˆì–´ìš”. ê·¸ ê²½í—˜ì´ ì§€ê¸ˆì˜ íŒë‹¨ ê¸°ì¤€ì´ ë˜ì—ˆì–´ìš”.",
  "Justice_í˜„ì¬": "ì§€ê¸ˆì€ ìƒí™©ì„ ê°ê´€ì ìœ¼ë¡œ ë°”ë¼ë³´ëŠ” ê²ƒì´ ì¤‘ìš”í•´ìš”. ê°ì •ë³´ë‹¤ëŠ” ì´ì„±ì ì¸ íŒë‹¨ì´ í•„ìš”í•´ìš”.",
  "Justice_ë¯¸ë˜": "ë‹¤ê°€ì˜¬ ì‹œê¸°ì—” ë‹¹ì‹ ì´ ë‚´ë¦° ê²°ì •ì— ëŒ€í•œ ê²°ê³¼ë¥¼ ë§ˆì£¼í•˜ê²Œ ë  ê±°ì˜ˆìš”. ì§€ê¸ˆì˜ ì„ íƒì„ ì‹ ì¤‘íˆ í•˜ì„¸ìš”.",
  "The Hanged Man_ê³¼ê±°": "ê³¼ê±°ì— í¬ìƒí•˜ê±°ë‚˜ ë©ˆì¶°ì„  ê²½í—˜ì´ ìˆì—ˆì–´ìš”. ê·¸ ì‹œê°„ì€ ë‹¹ì‹ ì„ ë” ê¹Šì´ ìˆê²Œ ë§Œë“¤ì—ˆì–´ìš”.",
  "The Hanged Man_í˜„ì¬": "ì§€ê¸ˆì€ ì„œë‘ë¥´ê¸°ë³´ë‹¨ ê´€ì ì„ ë°”ê¿”ë³´ëŠ” ì‹œê¸°ì˜ˆìš”. í¬ê¸°ì˜ ë¯¸í•™ì´ í•„ìš”í•œ ìˆœê°„ì¼ ìˆ˜ ìˆì–´ìš”.",
  "The Hanged Man_ë¯¸ë˜": "ë¯¸ë˜ì— ì¤‘ìš”í•œ ê²°ì •ì„ ë‚´ë ¤ì•¼ í•  ë•Œ ì ì‹œ ë©ˆì¶”ê³  ëŒì•„ë³´ëŠ” ì—¬ìœ ê°€ í•„ìš”í•  ìˆ˜ ìˆì–´ìš”.",
  "Death_ê³¼ê±°": "í° ë³€í™”ë‚˜ ì´ë³„, ëë§ºìŒì´ ìˆì—ˆë˜ ì‹œê¸°ì˜ˆìš”. ê·¸ ëì€ ìƒˆë¡œìš´ ì‹œì‘ì˜ ë°‘ê±°ë¦„ì´ ë˜ì—ˆì–´ìš”.",
  "Death_í˜„ì¬": "ì§€ê¸ˆì€ ë¬´ì–¸ê°€ë¥¼ ì •ë¦¬í•˜ê³  ë‚´ë ¤ë†“ì•„ì•¼ í•  ë•Œì˜ˆìš”. ë³€í™”ëŠ” ì•„í”„ì§€ë§Œ í•„ìš”í•´ìš”.",
  "Death_ë¯¸ë˜": "ê³§ ì‚¶ì˜ í•œ ì±•í„°ê°€ ë§ˆë¬´ë¦¬ë˜ê³  ìƒˆë¡œìš´ ê¸¸ì´ ì—´ë¦´ ê±°ì˜ˆìš”. ë‘ë ¤ì›€ë³´ë‹¤ ê¸°ëŒ€ë¥¼ í’ˆì–´ë³´ì„¸ìš”.",
  "Temperance_ê³¼ê±°": "ë‹¹ì‹ ì€ ê³¼ê±°ì— ê· í˜•ê³¼ ì¡°í™”ë¥¼ ìœ„í•´ ì• ì¼ì–´ìš”. ê·¸ ê²½í—˜ì´ ì§€ê¸ˆì˜ ì•ˆì •ê°ì„ ë§Œë“¤ì—ˆì–´ìš”.",
  "Temperance_í˜„ì¬": "ì§€ê¸ˆì€ ì¡°í™”ì™€ ì ˆì œê°€ í•„ìš”í•œ ì‹œê¸°ì˜ˆìš”. ë¬´ë¦¬í•œ í–‰ë™ë³´ë‹¨ ì¤‘ìš©ì´ í•„ìš”í•´ìš”.",
  "Temperance_ë¯¸ë˜": "ì•ìœ¼ë¡œ ë‹¤ì–‘í•œ ìš”ì†Œë¥¼ ì¡°ìœ¨í•˜ëŠ” ì¼ì´ ìƒê¸¸ ê±°ì˜ˆìš”. ê°ˆë“±ë³´ë‹¨ ì¡°í™”ë¥¼ ì„ íƒí•˜ì„¸ìš”.",
  "The Devil_ê³¼ê±°": "ê³¼ê±°ì— ì§‘ì°©í•˜ê±°ë‚˜ ì–½ë§¤ì˜€ë˜ ê²½í—˜ì´ ìˆì—ˆì–´ìš”. ê·¸ê²ƒì´ ë‹¹ì‹ ì„ í˜ë“¤ê²Œ í–ˆì„ ìˆ˜ ìˆì–´ìš”.",
  "The Devil_í˜„ì¬": "ì§€ê¸ˆì€ ì¤‘ë…ì´ë‚˜ ê³¼ë„í•œ ì§‘ì°©ì„ ë˜ëŒì•„ë´ì•¼ í•´ìš”. ìì‹ ì„ ì†ë°•í•˜ëŠ” ê²ƒì„ ì¸ì‹í•˜ì„¸ìš”.",
  "The Devil_ë¯¸ë˜": "ë¯¸ë˜ì—ëŠ” ìœ í˜¹ì´ë‚˜ ì–½ë§¤ì´ëŠ” ìƒí™©ì´ ë‹¤ê°€ì˜¬ ìˆ˜ ìˆì–´ìš”. ì˜ì§€ë ¥ì„ ê¸°ë¥¼ í•„ìš”ê°€ ìˆì–´ìš”.",
  "The Tower_ê³¼ê±°": "ê°‘ì‘ìŠ¤ëŸ¬ìš´ ì¶©ê²©ì´ë‚˜ ë³€í™”ê°€ ìˆì—ˆë˜ ê³¼ê±°ì˜ˆìš”. ê·¸ê²ƒì€ ì‚¶ì˜ êµ¬ì¡°ë¥¼ ë‹¤ì‹œ ì„¸ìš°ëŠ” ê³„ê¸°ì˜€ì–´ìš”.",
  "The Tower_í˜„ì¬": "ì§€ê¸ˆì€ ë¶ˆì•ˆì •í•œ ì‹œê¸°ì¼ ìˆ˜ ìˆì–´ìš”. ê¸°ì¡´ì˜ ê²ƒì„ ë¬´ë„ˆëœ¨ë¦¬ê³  ìƒˆë¡œ ì„¸ì›Œì•¼ í•  ë•Œì˜ˆìš”.",
  "The Tower_ë¯¸ë˜": "ì˜ˆìƒì¹˜ ëª»í•œ ë³€í™”ë‚˜ ì§„ì‹¤ì˜ í­ë¡œê°€ ìˆì„ ìˆ˜ ìˆì–´ìš”. ë¬´ë„ˆì§ ì†ì—ì„œ ë³¸ì§ˆì„ ë°œê²¬í•˜ì„¸ìš”.",
  "The Star_ê³¼ê±°": "ê³¼ê±°ì— í¬ë§ê³¼ íšŒë³µì˜ ì‹œê°„ì„ ê°€ì¡Œì–´ìš”. ê·¸ ì‹œê°„ì€ ë‹¹ì‹ ì—ê²Œ ìœ„ë¡œê°€ ë˜ì—ˆì–´ìš”.",
  "The Star_í˜„ì¬": "ì§€ê¸ˆì€ ì¹˜ìœ ì™€ í¬ë§ì˜ ì—ë„ˆì§€ê°€ íë¥´ê³  ìˆì–´ìš”. ì²œì²œíˆ íšŒë³µí•˜ë©° ë‚˜ì•„ê°€ì„¸ìš”.",
  "The Star_ë¯¸ë˜": "ë‹¹ì‹ ì˜ ë¯¸ë˜ì—” í¬ë§ì´ ê°€ë“í•  ê±°ì˜ˆìš”. ì–´ë‘ ì´ ì§€ë‚˜ê³  ë¹›ë‚˜ëŠ” ì‹œê¸°ê°€ ë‹¤ê°€ì˜¬ ê±°ì˜ˆìš”.",
  "The Moon_ê³¼ê±°": "ê³¼ê±°ì— ë¶ˆí™•ì‹¤í•¨ì´ë‚˜ ê°ì •ì˜ í˜¼ë€ì„ ê²ªì—ˆì–´ìš”. ê·¸ í˜¼ëˆì´ ë‹¹ì‹ ì„ ë‹¨ë‹¨í•˜ê²Œ ë§Œë“¤ì—ˆì–´ìš”.",
  "The Moon_í˜„ì¬": "ì§€ê¸ˆì€ ì§ê°ê³¼ ê°ì •ì´ ì˜ˆë¯¼í•  ìˆ˜ ìˆì–´ìš”. í˜¼ë€ ì†ì—ì„œë„ ì¤‘ì‹¬ì„ ìƒì§€ ë§ˆì„¸ìš”.",
  "The Moon_ë¯¸ë˜": "ê³§ ê°ì •ì˜ ê¸°ë³µì´ë‚˜ ë¶ˆí™•ì‹¤í•œ ìƒí™©ì´ ë‹¤ê°€ì˜¬ ìˆ˜ ìˆì–´ìš”. ì§„ì‹¤ì„ ë°íˆê¸° ìœ„í•´ ì¸ë‚´ê°€ í•„ìš”í•´ìš”.",
  "The Sun_ê³¼ê±°": "ë°ê³  ì¦ê±°ìš´ ì‹œê°„ì´ ìˆì—ˆì–´ìš”. ê·¸ ê¸ì •ì˜ ì—ë„ˆì§€ê°€ ì§€ê¸ˆê¹Œì§€ ì´ì–´ì§€ê³  ìˆì–´ìš”.",
  "The Sun_í˜„ì¬": "ì§€ê¸ˆì€ ê¸ì •ì ì¸ ê²°ê³¼ê°€ ê¸°ëŒ€ë˜ëŠ” ì‹œê¸°ì˜ˆìš”. ë°ì€ ì—ë„ˆì§€ë¡œ ì£¼ë³€ì„ ë¹„ì¶”ì„¸ìš”.",
  "The Sun_ë¯¸ë˜": "ì•ìœ¼ë¡œ ë°ê³  í¬ë§ì°¬ ì¼ì´ ìƒê¸¸ ê±°ì˜ˆìš”. ë‹¹ì‹ ì˜ ì§„ì‹¬ì´ ë¹›ì„ ë°œí•  ê±°ì˜ˆìš”.",
  "Judgement_ê³¼ê±°": "ê³¼ê±°ë¥¼ ë˜ëŒì•„ë³´ê³  ë°˜ì„±í–ˆë˜ ì‹œê¸°ì˜ˆìš”. ê·¸ ì‹œê°„ì€ ë‹¹ì‹ ì„ ì„±ì¥ì‹œì¼°ì–´ìš”.",
  "Judgement_í˜„ì¬": "ì§€ê¸ˆì€ ê²°ë‹¨ê³¼ ìš©ì„œê°€ í•„ìš”í•œ ì‹œê¸°ì˜ˆìš”. ìì‹ ì˜ íŒë‹¨ì„ ë¯¿ê³  ì›€ì§ì—¬ì•¼ í•  ë•Œì˜ˆìš”.",
  "Judgement_ë¯¸ë˜": "ê³§ ë‹¹ì‹ ì€ ì¤‘ìš”í•œ ê¹¨ë‹¬ìŒì´ë‚˜ ì‹¬íŒì˜ ìˆœê°„ì„ ë§ì„ ìˆ˜ ìˆì–´ìš”. ê·¸ ê²°ê³¼ëŠ” ë‹¹ì‹ ì˜ ì„ íƒì— ë‹¬ë ¤ ìˆì–´ìš”.",
  "The World_ê³¼ê±°": "ê³¼ê±°ì— í•˜ë‚˜ì˜ ì‚¬ì´í´ì„ ì™„ì„±í–ˆì–´ìš”. ê·¸ ì„±ì·¨ê°€ í˜„ì¬ì˜ ë‹¹ì‹ ì„ ìˆê²Œ í–ˆì–´ìš”.",
  "The World_í˜„ì¬": "ì§€ê¸ˆì€ ëª©í‘œê°€ ë§ˆë¬´ë¦¬ë˜ëŠ” ì‹œê¸°ì˜ˆìš”. í†µí•©ê³¼ ì™„ì„±ì˜ ì˜ë¯¸ë¥¼ ê³±ì”¹ì–´ë³´ì„¸ìš”.",
  "The World_ë¯¸ë˜": "ì•ìœ¼ë¡œ ë‹¹ì‹ ì˜ ì—¬ì •ì€ ì„±ê³µì ìœ¼ë¡œ ë§ˆë¬´ë¦¬ë  ê±°ì˜ˆìš”. ê·¸ ëì—ì„œ ìƒˆë¡œìš´ ë¬¸ì´ ì—´ë¦´ ê±°ì˜ˆìš”."
    };

    const basicMeanings = {
      "The Fool": "ìƒˆë¡œìš´ ì‹œì‘, ììœ ë¡œìš´ ì—ë„ˆì§€",
      "The Magician": "ì˜ì§€ì™€ ì°½ì¡°ë ¥, ìì› í™œìš©",
      "The High Priestess": "ì§ê´€, ë‚´ë©´ì˜ ì§€í˜œ",
      "The Empress": "í’ìš”, ì‚¬ë‘, ì°½ì¡°ì„±",
      "The Emperor": "ê¶Œìœ„, ì•ˆì •, ì±…ì„",
      "The Hierophant": "ì „í†µ, ì¡°ì–¸, ì˜ì  ê°€ë¥´ì¹¨",
      "The Lovers": "ì‚¬ë‘, ì„ íƒ, ê´€ê³„ì˜ ì¡°í™”",
      "The Chariot": "ì „ì§„, ì˜ì§€ë ¥, ìŠ¹ë¦¬",
      "Strength": "ìš©ê¸°, ì¸ë‚´, ë¶€ë“œëŸ¬ìš´ í˜",
      "The Hermit": "ê³ ë…, ì„±ì°°, ë‚´ë©´ì˜ ê¸¸",
      "Wheel of Fortune": "ìš´ëª…ì˜ ë³€í™”, ê¸°íšŒ",
      "Justice": "ê³µì •, ê· í˜•, ì±…ì„",
      "The Hanged Man": "í¬ìƒ, ê´€ì  ë³€í™”",
      "Death": "ë, ë³€í™”, ìƒˆë¡œìš´ ì‹œì‘",
      "Temperance": "ì¡°í™”, ì ˆì œ, ê· í˜•",
      "The Devil": "ì†ë°•, ìœ í˜¹",
      "The Tower": "íŒŒê´´, ì¶©ê²©, ì¬ì •ë¹„",
      "The Star": "í¬ë§, ì˜ê°, íšŒë³µ",
      "The Moon": "í˜¼ë€, ì§ê°, ê°ì •ì˜ ê¹Šì´",
      "The Sun": "ì„±ê³µ, ê¸°ì¨, ëª…í™•ì„±",
      "Judgement": "ìê°, ë¶€í™œ, í‰ê°€",
      "The World": "ì™„ì„±, ì„±ì·¨"
    };

    let selectedCards = [];

    function renderCards() {
      const container = document.getElementById("card-container");
      container.innerHTML = "";
      selectedCards = [];
      document.getElementById("overlay").style.display = "none";
      const shuffled = [...tarotDeck].sort(() => 0.5 - Math.random());
      shuffled.forEach(card => {
        const div = document.createElement("div");
        div.className = "result-card";
        div.textContent = "?";
        div.onclick = () => selectCard(div, card);
        container.appendChild(div);
      });
    }

    function selectCard(div, cardName) {
      if (selectedCards.length >= 3 || div.classList.contains("revealed")) return;
      div.classList.add("revealed");
      div.textContent = cardName;
      selectedCards.push(cardName);
      if (selectedCards.length === 3) showPopup();
    }

    function showPopup() {
      const positions = ["ê³¼ê±°", "í˜„ì¬", "ë¯¸ë˜"];
      const contentDiv = document.getElementById("popup-content");
      contentDiv.innerHTML = "";

      const wrapper = document.createElement("div");
      wrapper.className = "popup-entry-wrapper";

      selectedCards.forEach((card, index) => {
        const pos = positions[index];
        const contextualKey = `${card}_${pos}`;
        const meaning = contextualInterpretations[contextualKey] || basicMeanings[card];

        const entry = document.createElement("div");
        entry.className = "popup-entry";

        const cardBox = document.createElement("div");
        cardBox.className = "result-card";
        cardBox.textContent = card;
        cardBox.onclick = () => saveCardAsImage(cardBox);

        const text = document.createElement("p");
        text.className = "popup-card-text";
        text.innerHTML = `<strong>${pos}</strong><br>(${card})<br>${meaning}`;

        entry.appendChild(cardBox);
        entry.appendChild(text);
        wrapper.appendChild(entry);
      });

      contentDiv.appendChild(wrapper);

      const summary = document.createElement("div");
      summary.className = "summary-text";
      summary.textContent = generateSummary(selectedCards);
      contentDiv.appendChild(summary);

      document.getElementById("overlay").style.display = "flex";
    }

    function generateSummary(cards) {
      return `${cards.join(", ")}ëŠ” ë‹¹ì‹ ì´ ì„œëª…í˜¸ë¥¼ ì‚¬ë‘í•  ìˆ˜ë°–ì— ì—†ëŠ” ì´ìœ ë¥¼ ë³´ì—¬ì£¼ê³  ìˆì–´ìš”.`;
    }

    function resetGame() {
      renderCards();
    }

    function closePopup() {
      document.getElementById("overlay").style.display = "none";
    }

    function saveCardAsImage(element) {
      html2canvas(element).then(canvas => {
        const link = document.createElement("a");
        link.download = "tarot-card.png";
        link.href = canvas.toDataURL();
        link.click();
      });
    }

    renderCards();
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</body>
</html>
